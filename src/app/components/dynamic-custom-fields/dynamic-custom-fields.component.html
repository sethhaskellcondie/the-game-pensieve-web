<!-- Loading State -->
<div *ngIf="isLoading" class="loading-message">
  <p>Loading custom fields...</p>
</div>

<!-- Error State -->
<div *ngIf="errorMessage && !isLoading" class="error-message">
  <p>{{errorMessage}}</p>
</div>

<!-- Custom Fields -->
<div *ngIf="!isLoading && !errorMessage && customFields.length > 0" class="custom-fields-container">
  <div *ngIf="sectionTitle" class="form-section">
    <h3 class="section-title">{{sectionTitle}}</h3>
  </div>
  <div *ngFor="let field of customFields" class="custom-field-group">
    <!-- Text Field -->
    <div *ngIf="field.type === 'text'">
      <label [for]="'field-' + field.id" class="custom-field-label">
        {{field.name}}
      </label>
      <input 
        type="text"
        [id]="'field-' + field.id"
        [name]="'field-' + field.id"
        [(ngModel)]="fieldValues[field.id]"
        (ngModelChange)="onFieldValueChange()"
        (keyup.enter)="onEnterPressed()"
        class="custom-field-input"
        [placeholder]="">
    </div>
    
    <!-- Number Field -->
    <div *ngIf="field.type === 'number'">
      <label [for]="'field-' + field.id" class="custom-field-label">
        {{field.name}}
      </label>
      <app-selectable-number-input
        [id]="'field-' + field.id"
        [name]="'field-' + field.id"
        [(ngModel)]="fieldValues[field.id]"
        (ngModelChange)="onFieldValueChange()"
        (keyup.enter)="onEnterPressed()"
        class="custom-field-input"
        [placeholder]="">
      </app-selectable-number-input>
    </div>
    
    <!-- Boolean Field -->
    <div *ngIf="field.type === 'boolean'" class="custom-field-checkbox-group">
      <app-custom-checkbox
        [id]="'field-' + field.id"
        [name]="'field-' + field.id"
        [label]="field.name"
        [(ngModel)]="fieldValues[field.id]"
        (ngModelChange)="onFieldValueChange()">
      </app-custom-checkbox>
    </div>
  </div>
</div>

